{% extends 'base.html' %} {% block title %} Registro de Compras {% endblock %}
{% block stylesheets %}{% endblock stylesheets %} {% block content %}
{% load static %}
<div class="d-flex flex-row justify-content-between align-items-center me-3">
  <form action="{% url 'purchase:find_product'%}" method="POST">
    <div class="d-flex flex-row align-items-center">
      {% csrf_token %}
      {{ form_code_bar.as_p }}
      <button type="submit" value="Adicionar" class="btn btn-primary btn-sm ms-2 mt-1">
        <i class="fa-solid fa-plus fa-beat"></i>
      </button>
    </div>
  </form>
  <div>
    <th><a href="{% url 'purchase:clean_all_products_purchase' %}" class="btn btn-primary">Limpar Todos Produtos Adicionados</a>
    </th>
  </div>
</div>
{{ form.as_p}}
<div class="table-responsive"></div>
<table class="table table-hover table-dark table-striped-columns">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Nome</th>
      <th scope="col">Valor Un.</th>
      <th scope="col">Quantidade</th>
      <th scope="col">Val. Total</th>
      <th scope="col">Ação</th>
    </tr>
  </thead>
  <tbody>
    {% for item in purchaseItems %}
    <tr>
      <th scope="row">{{ item.fk_product.id }}</th>
      <th scope="row">{{ item.fk_product.name }}</th>
      <th scope="row">{{ item.price }}</th>
      <th scope="row">{{ item.quantity }}</th>
      <th scope="row">{% widthratio item.price 1 item.quantity %}</th>
      <th><a href="{% url 'purchase:remove_product_purchase' item.fk_product.id %}" class="btn btn-primary">Remover</a>
      </th>
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
{% endblock content %} {% block javascripts %}{% endblock javascripts %}